name: Self-Hosted Folder Exercise
 
on:
  workflow_dispatch:
 
jobs:
  file-ops:
    runs-on: self-hosted
 
    steps:
      - name: 🗂️ Step 1 - Create folder1 and file
        run: |
          mkdir "$env:USERPROFILE\Desktop\folder1"
          Set-Content -Path "$env:USERPROFILE\Desktop\folder1\1.txt" -Value "This is test content"
 
      - name: 📁 Step 2 - Create folder2
        run: |
          mkdir "$env:USERPROFILE\Desktop\folder2"
 
      - name: 📄 Step 3 - Copy file from folder1 to folder2
        run: |
          Copy-Item "$env:USERPROFILE\Desktop\folder1\1.txt" "$env:USERPROFILE\Desktop\folder2\"
 
      - name: ✅ Final Check
        run: |
          Write-Host "Folder structure and file should now exist on agent machine desktop"
